/**
* ngJwt
* @version v1.0.0
* @link https://github.com/oliverGrisha/ngJwt
* @author Oliver Lorenzo Felipe
* @license MIT License, http://www.opensource.org/licenses/MIT
*/
"use strict";if(!angular)throw new TypeError("AngularJs is required");angular.module("ngJwt",[]).config(["$httpProvider","ngJwtProvider",function(e,r){e.interceptors.push(["$q","$rootScope",function(e,t){return{request:function(e){e.headers=e.headers||{};var t=r.$get().getToken();return!e.headers.Authorization&&t&&(e.headers.Authorization="Bearer "+t),e},responseError:function(o){return r.defaults.errorCodes.indexOf(o.status)!==-1&&(r.defaults.removeTokenOnError&&r.$get().removeToken(),t.$emit("$errorCode",o)),e.reject(o)},response:function(e){return e}}}])}]).provider("ngJwt",function(){var e=this;this.defaults={localStorageKey:"$ngJwt_token",separatedCharacter:".",errorCodes:[401,403],removeTokenOnError:!0},this.$get=function(){var r={setToken:function(r){if("string"!=typeof r)throw new TypeError("The token must be a string");r.indexOf("Bearer")!==-1&&(r=r.replace("Bearer","")),window.localStorage[e.defaults.localStorageKey]=r.trim()},getToken:function(){return window.localStorage[e.defaults.localStorageKey]},getDecodedInfo:function(){try{return angular.fromJson(atob(r.getToken().split(e.defaults.separatedCharacter)[0]))}catch(t){return null}},removeToken:function(r){window.localStorage.removeItem(e.defaults.localStorageKey),"function"==typeof r&&r.call()}};return r}});